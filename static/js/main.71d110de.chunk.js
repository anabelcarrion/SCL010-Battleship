(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],{29:function(e,t,a){},53:function(e,t,a){e.exports=a(75)},58:function(e,t,a){},59:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),i=(a(58),a(59),a(14)),l=a(22),s=a(8),u=a(95),d=a(94),m=function(){var e=Object(n.useState)("Jugador"),t=Object(s.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",{id:"outer-section"},r.a.createElement("section",{id:"start-game"},r.a.createElement(u.a,{type:"text",placeholder:"Nombre",onChange:function(e){return o(e.target.value)},required:!0}),r.a.createElement(i.b,{to:"/PlacingPieces"},r.a.createElement(d.a,{variant:"outlined",onClick:function(){return function(e){localStorage.setItem("name",JSON.stringify(e))}(a)}},"Crear partida"))),r.a.createElement("a",null,r.a.createElement("img",{src:"https://i.ibb.co/CzRsWYX/portada.jpg",alt:"portada"})))},f=a(36),g=a.n(f),p=a(50),v=a(18),E=(a(29),function(){var e=Object(n.useContext)(j),t=(e.selectedPiece,e.setSelectedPiece),a=e.pieces;return r.a.createElement("section",{id:"dog-btns"},r.a.createElement(d.a,{disabled:a.dog1.isPlaced,onClick:function(){t(a.dog1)}},r.a.createElement("i",{class:"fas fa-dog"}," 1 ")),r.a.createElement(d.a,{disabled:a.dog2.isPlaced,onClick:function(){t(a.dog2)}},r.a.createElement("i",{class:"fas fa-dog"}," 1 ")),r.a.createElement(d.a,{disabled:a.dog3.isPlaced,onClick:function(){t(a.dog3)}},r.a.createElement("i",{class:"fas fa-dog"})," 2 "),r.a.createElement(d.a,{disabled:a.dog4.isPlaced,onClick:function(){t(a.dog4)}},r.a.createElement("i",{class:"fas fa-dog"})," 2 "),r.a.createElement(d.a,{disabled:a.dog5.isPlaced,onClick:function(){t(a.dog5)}},r.a.createElement("i",{class:"fas fa-dog"})," 3 "),r.a.createElement(d.a,{disabled:a.dog6.isPlaced,onClick:function(){t(a.dog6)}},r.a.createElement("i",{class:"fas fa-dog"})," 4 "),r.a.createElement(d.a,{disabled:a.dog7.isPlaced,onClick:function(){t(a.dog7)}},r.a.createElement("i",{class:"fas fa-dog"})," 4 "))}),b=a(89),h=a(90),P=a(91),y=a(92),O=a(93);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var j=r.a.createContext(),k=(r.a.createContext(),{dog1:{name:"dog1",img:"",sizeHorizontal:1,sizeVertical:1,orientation:"vertical",isPlaced:!1},dog2:{name:"dog2",img:"",sizeHorizontal:1,sizeVertical:1,orientation:"vertical",isPlaced:!1},dog3:{name:"dog3",img:"",sizeHorizontal:1,sizeVertical:2,orientation:"vertical",isPlaced:!1},dog4:{name:"dog4",img:"",sizeHorizontal:1,sizeVertical:2,orientation:"vertical",isPlaced:!1},dog5:{name:"dog5",img:"",sizeHorizontal:1,sizeVertical:3,orientation:"vertical",isPlaced:!1},dog6:{name:"dog6",img:"",sizeHorizontal:2,sizeVertical:2,orientation:"vertical",isPlaced:!1},dog7:{name:"dog7",img:"",sizeHorizontal:2,sizeVertical:2,orientation:"vertical",isPlaced:!1}}),S=function(){for(var e={name:"",img:"",sizeHorizontal:0,sizeVertical:0,orientation:"",isPlaced:!1},t=[],a=0;a<10;a++){for(var o=[],c=0;c<10;c++)o[c]={state:!1,x:a,y:c,piece:e};t[a]=o}var i=Object(n.useState)(t),l=Object(s.a)(i,2),u=l[0],d=l[1],m=Object(n.useState)(e),f=Object(s.a)(m,2),g=f[0],p=f[1],S=Object(n.useState)(!1),x=Object(s.a)(S,2),C=x[0],H=(x[1],{selectedPiece:g,setSelectedPiece:p,pieces:k}),I=Object(n.useContext)(w),V=I.piecesToSave,D=I.setPiecesToSave,G=function(e){return e.map((function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)}))}))},J=function(t,a){var n=g.sizeHorizontal,r=g.sizeVertical,o=!1;if(""===u[t][a].piece.name?C&&(n=g.sizeVertical,r=g.sizeHorizontal):(o=!0,function(e){for(var t=0;t<V.length;t++){if(V[t].name===e.name){V.splice(t,1);break}}D(V.map((function(e){return e})))}(u[t][a].piece),n=u[t][a].piece.sizeHorizontal,r=u[t][a].piece.sizeVertical),""===g.name&&!o)return u;for(var c=G(u),i=0;i<n;i++)for(var l=0;l<r;l++)if(o&&""===g.name)k[c[t+i][a+l].piece.name].isPlaced=!1,c[t+i][a+l]={state:!1,x:t+i,y:a+l,piece:e};else{if(t+i>=c.length||a+l>=c.length)return alert("no hay espacio suficiente para colocar esta pieza"),u;if(u[t+i][a+l].state)return alert("no se puede insertar la pieza en donde ya existe una pieza"),u;c[t+i][a+l]={state:!0,x:t,y:a,piece:g},console.log("newTable",c)}return o||(k[g.name].isPlaced=!0,function(e,t,a){var n=V.map((function(e){return e})),r={x:t,y:a,name:e.name,sizeH:e.sizeHorizontal,sizeV:e.sizeVertical};n.push(r),D(n)}(g,t,a)),p(e),console.log(c),c},N=function(e){return parseInt(e.x.toString()+e.y.toString())+1};return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{id:"gameBoard"},r.a.createElement("div",{id:"boardPlayer1"}),r.a.createElement(b.a,null,r.a.createElement(h.a,{id:"boardPlayer1"},r.a.createElement(P.a,null,u.map((function(e){return r.a.createElement(y.a,null,e.map((function(e){return r.a.createElement(O.a,{id:N(e),data:[e.x,e.y],className:u[e.x][e.y].state?"occupiedCell":"emptyCell",onClick:function(){return d(J(e.x,e.y))}})})))})))))),r.a.createElement(j.Provider,{value:H},r.a.createElement(E,null)))},x=a(37);x.initializeApp({apiKey:"AIzaSyAeZMYmproMg9QIBDdSyCHRRhHPp09s4Fk",authDomain:"game-battleship.firebaseapp.com",databaseURL:"https://game-battleship.firebaseio.com",projectId:"game-battleship",storageBucket:"game-battleship.appspot.com",messagingSenderId:"604009782000",appId:"1:604009782000:web:f9f1a3701e7f2d8d800035",measurementId:"G-YNKS310318"});var C=x,w=r.a.createContext();var H=function(){var e,t=r.a.useState([]),a=Object(s.a)(t,2),n=a[0],o=a[1],c=r.a.useState(!1),l=Object(s.a)(c,2),u=l[0],m=l[1],f=function(){var t=Object(p.a)(g.a.mark((function t(){var a,r,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(n),a=JSON.parse(localStorage.getItem("name")),r=C.firestore(),t.next=6,r.collection("game").add({name1:a,pieces:n,checkedPositions:[],foundPieces:0});case 6:o=t.sent,e=o.id,localStorage.setItem("gameId",e),console.log("id.documento:",e),m(!0),v(e),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log("failed");case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}(),v=function(e){window.location.href="whatsapp://send?text=Puedes ba\xf1ar a estos perritos m\xe1s r\xe1pido que yo? \xdanete a mi juego ingresando esta clave en tu juego: "+e.toString()},E={piecesToSave:n,setPiecesToSave:o};return r.a.createElement("div",{id:"outer-placing-pieces"},r.a.createElement("nav",null,r.a.createElement(i.b,{to:"/StartGame"},r.a.createElement(d.a,{id:"back-btn"},r.a.createElement("i",{class:"far fa-arrow-alt-circle-left"}))),r.a.createElement("h1",null,"Coloca las perritos en el tablero de juego")),r.a.createElement("div",{id:"placing-pieces"},r.a.createElement(w.Provider,{value:E},r.a.createElement(S,null))),r.a.createElement("footer",null,r.a.createElement(d.a,{variant:"outlined",onClick:function(){return f()}},"1.Guardar Tablero"),r.a.createElement(i.b,{to:"/Game"},r.a.createElement(d.a,{variant:"outlined",disabled:!u},"2.Jugar"))))};var I=function(){var e=r.a.useContext(N),t=e.dataPlayer1,a=(e.setdataPlayer1,Object(n.useState)(function(){for(var e=[],a=0;a<10;a++){for(var n=[],r=0;r<10;r++)n[r]={state:!1,x:a,y:r};e[a]=n}for(var o=0;o<t.pieces.length;o++)for(var c=t.pieces[o],i=c.x;i<c.x+c.sizeH;i++)for(var l=c.y;l<c.y+c.sizeV;l++)e[i][l].state=!0;console.log(t);for(var s=0;s<t.checkedPositions.length;s++){var u=t.checkedPositions[s];e[u.x][u.y].checked=!0}return e}())),o=Object(s.a)(a,2),c=o[0],i=(o[1],function(e){return e.state?e.checked?"cleanDog":"dirtyDog":e.checked?"water":"emptyCell"});return r.a.createElement("div",{id:"gameBoard"},r.a.createElement(b.a,null,r.a.createElement(h.a,{id:"boardPlayer1"},r.a.createElement(P.a,null,c.map((function(e){return r.a.createElement(y.a,null,e.map((function(e){return r.a.createElement(O.a,{data:[e.x,e.y],className:i(e),onClick:function(){return console.log("clic")}})})))}))))))};function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var D=[],G=0,J=function(){var e=r.a.useContext(B),t=e.dataPlayer2,a=(e.setdataPlayer2,Object(n.useState)(function(){for(var e=[],a=0;a<10;a++){for(var n=[],r=0;r<10;r++)n[r]={state:!1,x:a,y:r,checked:!1};e[a]=n}console.log(t);for(var o=0;o<t.checkedPositions.length;o++){var c=t.checkedPositions[o];e[c.x][c.y].checked=!0}for(var i=0;i<t.pieces.length;i++)for(var l=t.pieces[i],s=l.x;s<l.x+l.sizeH;s++)for(var u=l.y;u<l.y+l.sizeV;u++)e[s][u].checked&&(e[s][u].state=!0);return e}())),o=Object(s.a)(a,2),c=o[0],i=o[1],l=function(e){return e.map((function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)}))}))},u=function(e,a){D.push({x:e,y:a}),C.firestore().collection("game").doc(t.id).set({checkedPositions:D},{merge:!0})},d=function(e,t,a){return e>=a.x&&e<a.x+a.sizeH&&t>=a.y&&t<a.y+a.sizeV},m=function(e){return e.state?e.checked?"cleanDog":"dirtyDog":e.checked?"water":"emptyCell"};return r.a.createElement("div",{id:"gameBoard"},r.a.createElement(b.a,null,r.a.createElement(h.a,{id:"boardPlayer1"},r.a.createElement(P.a,null,c.map((function(e){return r.a.createElement(y.a,null,e.map((function(e){return r.a.createElement(O.a,{data:[e.x,e.y],className:m(e),onClick:function(){return function(e){for(var a=l(c),n=!1,r=e.x,o=e.y,s=0;s<t.pieces.length;s++){var m=t.pieces[s];if(d(r,o,m)&&(!e.state||!e.checked)){alert("hay una pieza"),G++,C.firestore().collection("game").doc(t.id).set({foundPieces:G},{merge:!0}),n=!0;for(var f=m.x;f<m.x+m.sizeH;f++)for(var g=m.y;g<m.y+m.sizeV;g++)a[f][g].state=!0,a[f][g].checked=!0,u(f,g)}}n||(a[r][o].checked=!0),u(r,o),i(a)}(e)}})})))}))))))},N=r.a.createContext(),B=r.a.createContext();function A(){return new Promise((function(e,t){var a=C.firestore().collection("game").doc(localStorage.getItem("gameId"));console.log("gameid en get player",localStorage.getItem("gameId")),a.get().then((function(t){console.log("documento de firebase",t.data()),e(t.data())})).catch((function(e){console.log("Error getting document:",e)})),console.log()}))}function T(e){return new Promise((function(t,a){var n=C.firestore().collection("game").doc(e);console.log("gameid en get player",localStorage.getItem(e)),n.get().then((function(e){console.log("documento de firebase",e.data()),t(e.data())})).catch((function(e){console.log("Error getting document:",e)})),console.log()}))}var R=function(){var e=r.a.useState({pieces:[],checkedPositions:[],foundPieces:0}),t=Object(s.a)(e,2),a=t[0],n=t[1],o=r.a.useState({pieces:[],checkedPositions:[],foundPieces:0}),c=Object(s.a)(o,2),l=c[0],m=c[1],f=r.a.useState(!1),g=Object(s.a)(f,2),p=g[0],v=g[1],E=r.a.useState(!1),b=Object(s.a)(E,2),h=b[0],P=b[1],y=r.a.useState(),O=Object(s.a)(y,2),z=O[0],j=O[1],k={dataPlayer1:a,setdataPlayer1:n},S={dataPlayer2:l,setdataPlayer2:m};r.a.useEffect((function(){v(!0),A().then((function(e){n(e),v(!1)}))}),[]);var x=function(){return 7==a.foundPieces?"El ganador es "+l.name1:7==l.foundPieces?"El ganador es "+a.name1:"none"};return p?r.a.createElement("h1",null,"Cargando Juego ..."):"none"!=x()?r.a.createElement("div",null,x(),r.a.createElement(i.b,{to:"/EndGame"},"Terminar juego")):r.a.createElement("div",null,r.a.createElement("div",{className:"AreaJugador1"},r.a.createElement("h2",null,"Jugador:",a.name1),r.a.createElement("h3",null," A ba\xf1ado ",l.foundPieces," de 7 perritos"),r.a.createElement(N.Provider,{value:k},r.a.createElement(I,null))),r.a.createElement(d.a,{variant:"outlined",onClick:function(){return v(!0),P(!1),A().then((function(e){n(e),v(!1)})),void T(z).then((function(e){e.id=z,m(e),P(!0)}))}},"Perrito Ba\xf1ado"),r.a.createElement("div",{className:"AreaJugador2"},r.a.createElement("h2",null,"Jugador:",l.name1),r.a.createElement("h3",null,"A ba\xf1ado ",a.foundPieces," de 7 perritos"),r.a.createElement(u.a,{id:"opponentGameBoardId",type:"text",placeholder:"Ingrese codigo",onChange:function(e){return j(e.target.value)}}),r.a.createElement(d.a,{variant:"outlined",onClick:function(){T(z).then((function(e){e.name1?(e.id=z,m(e),P(!0)):alert("codigo del oponente incorrecto")})).catch((function(e){alert("codigo del oponente incorrecto"),P(!1)}))}},"Cargar Oponente"),h?r.a.createElement(B.Provider,{value:S},r.a.createElement(J,null)):r.a.createElement("h1",null,"cargando oponente ...")))};var F=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Has ganado!"),r.a.createElement("h3",null,"No puedes comprar la felicidad pero puedes adoptar un perrito y eso es casi lo mismo"),r.a.createElement(d.a,null,r.a.createElement(i.b,{to:"/Game"},"Volver")),r.a.createElement(d.a,null,r.a.createElement(i.b,{to:"/PlacingPieces"},"Revancha")),r.a.createElement(d.a,{variant:"outlined"},r.a.createElement(i.b,{to:"/StartGame"}),"Salir"))},W=function(){return r.a.createElement(i.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{exact:!0,from:"".concat((void 0).props.location.pathname,"/"),to:"".concat((void 0).props.location.pathname,"/StartGame")}),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"".concat((void 0).props.location.pathname,"/StartGame"),component:m}),r.a.createElement(l.b,{path:"".concat((void 0).props.location.pathname,"/Game"),component:R}),r.a.createElement(l.b,{path:"".concat((void 0).props.location.pathname,"/PlacingPieces"),component:H}),r.a.createElement(l.b,{path:"".concat((void 0).props.location.pathname,"/EndGame"),component:F}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[53,1,2]]]);
//# sourceMappingURL=main.71d110de.chunk.js.map